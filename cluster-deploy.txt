
0. Cubrir datos en sync/variables.yml (necesita estar en esa ruta para que los playbooks puedan acceder a sus variables). Ejecutar script.py que genera el Vagrantfile en base a la plantilla.

	# ./script.py (el nombre no es definitivo xD)

1. Tenemos que exportar una variable de entorno para activar una funcionalidad experimental (hay muchas) como es la de establecer orden o dependencias entre provisiones.

	# export VAGRANT_EXPERIMENTAL="dependency_provisioners"


2. Levantamos las máquinas provisionando SÓLO los script del shell. No podemos provisionar los de Ansible restantes (que se haría con un #vagrant up a secas) porque empezaría a ejecutar los playbooks en los nodos de cómputo ANTES de que estos estuvieran levantados.

	# vagrant up --provision-with shell


3. Ahora sí, realizamos las provisiones de Ansible en el nodo head, que es el servidor.

	# vagrant provision head --provision-with ansible_local


PD: última vez que se ha probado esto con éxito (sin errores y funcionalidades OK) --> 6 de mayo del 2021 a las 16 horas